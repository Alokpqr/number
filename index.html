<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMS Quantum Relay Configuration</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<style>
@keyframes move-twink-back {
    from {background-position:0 0;}
    to {background-position:-10000px 5000px;}
}

@keyframes text-glitch {
    0% {
        clip-path: inset(40% 0 61% 0);
        transform: skew(0.15deg);
    }
    20% {
        clip-path: inset(75% 0 28% 0);
        transform: skew(0.3deg);
    }
    40% {
        clip-path: inset(52% 0 38% 0);
        transform: skew(-0.1deg);
    }
    60% {
        clip-path: inset(10% 0 78% 0);
        transform: skew(0.4deg);
    }
    80% {
        clip-path: inset(83% 0 1% 0);
        transform: skew(-0.2deg);
    }
    100% {
        clip-path: inset(23% 0 58% 0);
        transform: skew(0.3deg);
    }
}

@keyframes matrix-rain {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

body {
    font-family: 'Orbitron', sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #000011;
    color: #00ffff;
    overflow: hidden;
}

.matrix-bg {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    z-index: -1;
}

.matrix-column {
    position: absolute;
    top: -100%;
    width: 1px;
    height: 100%;
    background-image: linear-gradient(0deg, rgba(0, 255, 255, 0) 0%, #00ffff 75%, #00ffff 100%);
    animation: matrix-rain 20s infinite linear;
}

.stars, .twinkling {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    display: block;
}

.stars {
    background: #000 url('https://i.imgur.com/YKY28eT.png') repeat top center;
    z-index: -3;
}

.twinkling {
    background: transparent url('https://i.imgur.com/XYMF4ca.png') repeat top center;
    z-index: -2;
    animation: move-twink-back 200s linear infinite;
}

.container {
    background-color: rgba(0, 20, 40, 0.8);
    border: 2px solid #00ffff;
    border-radius: 15px;
    padding: 2rem;
    box-shadow: 0 0 30px #00ffff, 0 0 50px #00ff00, 0 0 70px #0000ff;
    position: relative;
    overflow: hidden;
}

.hologram {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, #00ffff 0%, transparent 70%);
    opacity: 0.1;
    filter: blur(10px);
    animation: pulse 4s infinite alternate;
}

@keyframes pulse {
    0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.1; }
    100% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.2; }
}

h1 {
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 2rem;
    color: #00ffff;
    position: relative;
}

h1::before, h1::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

h1::before {
    left: 2px;
    text-shadow: -2px 0 #00ff00;
    animation: text-glitch 2s infinite linear alternate-reverse;
}

h1::after {
    left: -2px;
    text-shadow: 2px 0 #0000ff;
    animation: text-glitch 3s infinite linear alternate-reverse;
}

form {
    display: flex;
    flex-direction: column;
    position: relative;
    z-index: 1;
}

label {
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    font-size: 0.9rem;
    color: #00ff00;
}

input {
    background-color: rgba(0, 40, 80, 0.6);
    border: 1px solid #00ffff;
    color: #00ffff;
    padding: 0.8rem;
    margin-bottom: 1.5rem;
    font-family: 'Orbitron', sans-serif;
    border-radius: 5px;
}

button {
    background-color: #00ffff;
    color: #000011;
    border: none;
    padding: 1rem;
    cursor: pointer;
    font-family: 'Orbitron', sans-serif;
    text-transform: uppercase;
    font-weight: bold;
    transition: all 0.3s ease;
    border-radius: 5px;
    letter-spacing: 1px;
    margin-bottom: 1rem;
}

button:hover {
    background-color: #000011;
    color: #00ffff;
    box-shadow: 0 0 15px #00ffff, 0 0 25px #00ff00, 0 0 35px #0000ff;
}

#stopForwarding {
    background-color: #00ff00;
    color: #000011;
}

#stopForwarding:hover {
    background-color: #000011;
    color: #00ff00;
    box-shadow: 0 0 15px #00ff00, 0 0 25px #00ffff, 0 0 35px #0000ff;
}

#currentNumber {
    text-align: center;
    font-size: 1.2rem;
    margin-bottom: 1rem;
    color: #00ff00;
}
</style>
<body>
    <div class="stars"></div>
    <div class="twinkling"></div>
    <div class="matrix-bg">
        <div class="matrix-column" style="left: 10%; animation-duration: 15s;"></div>
        <div class="matrix-column" style="left: 25%; animation-duration: 18s;"></div>
        <div class="matrix-column" style="left: 40%; animation-duration: 20s;"></div>
        <div class="matrix-column" style="left: 60%; animation-duration: 22s;"></div>
        <div class="matrix-column" style="left: 75%; animation-duration: 25s;"></div>
        <div class="matrix-column" style="left: 90%; animation-duration: 30s;"></div>
    </div>
    <div class="container">
        <h1 data-text="SMS Quantum Relay">SMS Quantum Relay</h1>
        <p id="currentNumber">Current Number: <span></span></p>
        <div class="hologram"></div>
        <form id="updateForm">
            <label for="forwardingNumber">Enter the Number:</label>
            <input type="text" id="forwardingNumber" name="forwardingNumber" required>
            <button type="submit">Change</button>
        </form>
        <button id="stopForwarding">STOP forwarding to Number</button>
    </div>
    <script>
document.addEventListener('DOMContentLoaded', (event) => {
    const form = document.querySelector('#updateForm');
    const input = document.querySelector('input');
    const button = document.querySelector('button');
    const currentNumberSpan = document.querySelector('#currentNumber span');
    const stopForwardingButton = document.querySelector('#stopForwarding');

    function fetchCurrentNumber() {
        fetch('get_current_number.php')
            .then(response => response.text())
            .then(number => {
                currentNumberSpan.textContent = number || 'Not set';
            })
            .catch(error => console.error('Error fetching current number:', error));
    }

    fetchCurrentNumber();

    form.addEventListener('submit', (e) => {
        e.preventDefault();
        button.textContent = 'Initializing...';
        button.disabled = true;
        
        fetch('update_number.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: 'forwardingNumber=' + encodeURIComponent(input.value)
        })
        .then(response => response.text())
        .then(result => {
            alert(result);
            button.textContent = 'Change';
            button.disabled = false;
            fetchCurrentNumber();
        })
        .catch(error => {
            console.error('Error:', error);
            button.textContent = 'Change';
            button.disabled = false;
        });
    });

    stopForwardingButton.addEventListener('click', () => {
        stopForwardingButton.textContent = 'Stopping...';
        stopForwardingButton.disabled = true;

        fetch('stop_forwarding.php', {
            method: 'POST'
        })
        .then(response => response.text())
        .then(result => {
            alert(result);
            stopForwardingButton.textContent = 'STOP forwarding';
            stopForwardingButton.disabled = false;
            fetchCurrentNumber();
        })
        .catch(error => {
            console.error('Error:', error);
            stopForwardingButton.textContent = 'STOP forwarding';
            stopForwardingButton.disabled = false;
        });
    });

    input.addEventListener('input', () => {
        input.value = input.value.replace(/[^0-9+]/g, '');
    });

    setInterval(fetchCurrentNumber, 5000);
});
    </script>
</body>
</html>